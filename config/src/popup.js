(()=>{"use strict";function e(e,t){const o=document.getElementById(e);"toggleBtn"===e?o.textContent=t?"Video Removal Active":"Enable Video Removal":"togglePoliticalBtn"===e&&(o.textContent=t?"Political Filter Active":"Enable Political Filter"),o.classList.toggle("active",t)}document.getElementById("saveApiKey").addEventListener("click",(()=>{const e=document.getElementById("apiKeyInput").value;e&&"********"!==e&&chrome.storage.local.set({openaiKey:e},(function(){document.getElementById("apiKeyInput").value="********"}))})),document.getElementById("toggleBtn").addEventListener("click",(async()=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!t)throw new Error("No active tab found");chrome.tabs.sendMessage(t.id,{action:"toggleVideoRemoval"},(t=>{chrome.runtime.lastError?console.error("Error:",chrome.runtime.lastError):e("toggleBtn",t.active)}))}catch(e){console.error("Error:",e)}})),document.getElementById("togglePoliticalBtn").addEventListener("click",(async()=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!t)throw new Error("No active tab found");chrome.tabs.sendMessage(t.id,{action:"togglePoliticalFilter"},(t=>{chrome.runtime.lastError?console.error("Error:",chrome.runtime.lastError):e("togglePoliticalBtn",t.active)}))}catch(e){console.error("Error:",e)}})),document.addEventListener("DOMContentLoaded",(async function(){const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(t)try{chrome.tabs.sendMessage(t.id,{action:"getState"},(t=>{!chrome.runtime.lastError&&t&&(e("toggleBtn",t.videoActive),e("togglePoliticalBtn",t.politicalActive))})),chrome.storage.local.get(["openaiKey"],(function(e){e.openaiKey&&(document.getElementById("apiKeyInput").value="********")}))}catch(e){console.error("Error initializing buttons:",e)}}))})();
//# sourceMappingURL=popup.js.map